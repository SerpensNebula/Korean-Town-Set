    grf {
        grfid:                              "KSTS"; 
        name:                               string(STR_GRF_NAME);
        desc:                               string(STR_GRF_DESC);
        url:                                string(STR_GRF_URL);
        version:                            230605;
        min_compatible_version:             230601;
    
        // Parameters
            param 0 {
                para_override { // default override
                    type:       bool;
                    name:       string(STR_PARAM_OVERRIDE_NAME);
                    desc:       string(STR_PARAM_OVERRIDE_DESC);
                    def_value:  1;
                }
            }

            param 1 {
                para_lifetime { // Minimum lifetime
                    type:       int;
                    name:       string(STR_PARAM_LIFETIME_NAME);
                    desc:       string(STR_PARAM_LIFETIME_DESC);
                    min_value:  0;
                    max_value:  5000000;
                    def_value:  5;
                }
            }
    }

if (para_override == 1) {
    disable_item(FEAT_HOUSES, 0, 109);
}

// Tables
    cargotable {
        PASS, MAIL, GOOD
    }

// Templates
    template tmpl_empty(x, y) {
        [x, y, 1, 1, 0, 0]
    }

    template tmpl_low_building(x, y) {
        [x, y, 70, 90, -34, -58]
    }    

    template tmpl_mid_building(x, y) {
        [x, y, 70, 180, -34, -148]
    }

    template tmpl_mid_building_1x2_north(x, y) {
        [x, y, 110, 180, -38, -132]
    }

    template tmpl_mid_building_1x2_east(x, y) {
        [x, y, 110, 180, -70, -148]
    }

    template tmpl_mid_building_2x1_north(x, y) {
        [x, y, 110, 180, -70, -132]
    }

    template tmpl_mid_building_2x1_west(x, y) {
        [x, y, 110, 180, -38, -148]
    }    

    template tmpl_high_building(x, y) {
        [x, y, 70, 290, -34, -148]
    }

    template tmpl_high_building_2x1_west(x, y) {
        [x, y, 110, 290, -38, -258]
    }

    template tmpl_high_building_2x1_north(x, y) {
        [x, y, 110, 290, -70, -242]
    }

// Graphics
    // SHOPPING_DIST
        // SHOPPING_DIST_2010_A
            // construction_1 
                spriteset(set_SHOPPING_DIST_2010_A_const_1, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(0, 0)
                }

                spritelayout layout_SHOPPING_DIST_2010_A_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_A_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_A_const_1;
                    }                    
                }

            // construction_2
                spriteset(set_SHOPPING_DIST_2010_A_const_2, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(80, 0)
                }

                spritelayout layout_SHOPPING_DIST_2010_A_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_A_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_A_const_2;
                    }                    
                }

            // construction_3
                spriteset(set_SHOPPING_DIST_2010_A_const_3, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(160, 0)
                }

                spritelayout layout_SHOPPING_DIST_2010_A_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_A_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_A_const_3;
                    }                    
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_SHOPPING_DIST_2010_A_const, construction_state) {
                    0: layout_SHOPPING_DIST_2010_A_const_1;
                    1: layout_SHOPPING_DIST_2010_A_const_2;
                    2: layout_SHOPPING_DIST_2010_A_const_3;
                }

            // SHOPPING_DIST_2010_A
                spritelayout layout_SHOPPING_DIST_2010_A {
                    ground {
                        sprite:          set_SHOPPING_DIST_2010_A_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_A;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }                    
                }

                spriteset (set_SHOPPING_DIST_2010_A, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(240, 0)
                }

            // SHOPPING_DIST_2010_A_GROUND
                spriteset (set_SHOPPING_DIST_2010_A_GROUND, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(320, 0)
                }

        // SHOPPING_DIST_2010_B
            // construction_1 
                spriteset(set_SHOPPING_DIST_2010_B_const_1, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(0, 100)
                }

                spritelayout layout_SHOPPING_DIST_2010_B_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_B_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_B_const_1;
                    }                    
                }

            // construction_2
                spriteset(set_SHOPPING_DIST_2010_B_const_2, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(80, 100)
                }

                spritelayout layout_SHOPPING_DIST_2010_B_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_B_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_B_const_2;
                    }                    
                }

            // construction_3
                spriteset(set_SHOPPING_DIST_2010_B_const_3, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(160, 100)
                }

                spritelayout layout_SHOPPING_DIST_2010_B_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_B_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_B_const_3;
                    }                    
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_SHOPPING_DIST_2010_B_const, construction_state) {
                    0: layout_SHOPPING_DIST_2010_B_const_1;
                    1: layout_SHOPPING_DIST_2010_B_const_2;
                    2: layout_SHOPPING_DIST_2010_B_const_3;
                }

            // SHOPPING_DIST_2010_B
                spritelayout layout_SHOPPING_DIST_2010_B {
                    ground {
                        sprite:          set_SHOPPING_DIST_2010_B_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_B;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_SHOPPING_DIST_2010_B, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(240, 100)
                }

            // SHOPPING_DIST_2010_B_GROUND
                spriteset (set_SHOPPING_DIST_2010_B_GROUND, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(320, 100)
                }

// Item definitions
    // SHOPPING_DIST
        // SHOPPING_DIST_2010_A 
            switch(FEAT_HOUSES, SELF, sw_SHOPPING_DIST_2010_A, construction_state ) {
                0..2: layout_SHOPPING_DIST_2010_A_const;
                layout_SHOPPING_DIST_2010_A;
            }

            item(FEAT_HOUSES, kt_SHOPPING_DIST_2010_A, 150, HOUSE_SIZE_1X1) {
                property {
                    substitute:                     0; // 1x1
                    name:                           string(STR_SHOPPING_DIST_NAME);
                    availability_mask:              [ALL_TOWNZONES & ~bitmask(TOWNZONE_EDGE), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                    probability:                    1;
                    years_available:                [2010, 65535];
                    minimum_lifetime:               1*(para_lifetime);

                    population:                     55;
                    mail_multiplier:                20;
                    accepted_cargos:                [[PASS, 6], [MAIL, 3], [GOOD, 2]];
                    
                    local_authority_impact:         95;
                    removal_cost_multiplier:        130;

                    building_class:                 1;
                }

                graphics {
                    default:                        sw_SHOPPING_DIST_2010_A;
                    colour:                         random_bits%15+775;
                }
            }

        // SHOPPING_DIST_2010_B 
            switch(FEAT_HOUSES, SELF, sw_SHOPPING_DIST_2010_B, construction_state ) {
                0..2: layout_SHOPPING_DIST_2010_B_const;
                layout_SHOPPING_DIST_2010_B;
            }

            item(FEAT_HOUSES, kt_SHOPPING_DIST_2010_B, 151, HOUSE_SIZE_1X1) {
                property {
                    substitute:                     0; // 1x1
                    name:                           string(STR_SHOPPING_DIST_NAME);
                    availability_mask:              [ALL_TOWNZONES & ~bitmask(TOWNZONE_EDGE), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                    probability:                    1;
                    years_available:                [2010, 65535];
                    minimum_lifetime:               1*(para_lifetime);

                    population:                     55;
                    mail_multiplier:                20;
                    accepted_cargos:                [[PASS, 6], [MAIL, 3], [GOOD, 2]];
                    
                    local_authority_impact:         95;
                    removal_cost_multiplier:        130;

                    building_class:                 1;
                }

                graphics {
                    default:                        sw_SHOPPING_DIST_2010_B;
                    colour:                         random_bits%15+775;
                }
            }

// Buildings_1970
    // MID_FLOOR_BUILDINGS
        // MID_FLOOR_BUILDING_1970_A
            // construction_1 
                spritelayout layout_MID_FLOOR_BUILDING_1970_A_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_1970_A_const_1;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_1970_A_const_1, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_1970.png") {
                    tmpl_mid_building(0, 0)
                }

            // construction_2
                spritelayout layout_MID_FLOOR_BUILDING_1970_A_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_1970_A_const_2;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_1970_A_const_2, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_1970.png") {
                    tmpl_mid_building(80, 0)
                }

            // construction_3
                spritelayout layout_MID_FLOOR_BUILDING_1970_A_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_1970_A_const_3;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_1970_A_const_3, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_1970.png") {
                    tmpl_mid_building(160, 0)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_MID_FLOOR_BUILDING_1970_A_const, construction_state) {
                    0: layout_MID_FLOOR_BUILDING_1970_A_const_1;
                    1: layout_MID_FLOOR_BUILDING_1970_A_const_2;
                    2: layout_MID_FLOOR_BUILDING_1970_A_const_3;
                }

            // MID_FLOOR_BUILDING_1970_A
                spritelayout layout_MID_FLOOR_BUILDING_1970_A {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_1970_A_GROUND;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_1970_A;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_MID_FLOOR_BUILDING_1970_A, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_1970.png") {
                    tmpl_mid_building(240, 0)
                }

            // etc.
                spriteset (set_MID_FLOOR_BUILDING_1970_A_GROUND, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_1970.png") {
                    tmpl_mid_building(320, 0)
                }

            // Switch
                switch(FEAT_HOUSES, SELF, sw_MID_FLOOR_BUILDING_1970_A, construction_state ) {
                    0..2: layout_MID_FLOOR_BUILDING_1970_A_const;
                    layout_MID_FLOOR_BUILDING_1970_A;
                }

            // Item Definition
                item(FEAT_HOUSES, kt_MID_FLOOR_BUILDING_1970_A, 190, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_HIGH_FLOOR_BUILDING_NAME);
                        availability_mask:              [bitmask(TOWNZONE_CENTRE, TOWNZONE_INNER_SUBURB), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    1;
                        years_available:                [1970, 65535];
                        minimum_lifetime:               2*(para_lifetime);

                        population:                     120;
                        mail_multiplier:                55;
                        accepted_cargos:                [[PASS, 7], [MAIL, 3], [GOOD, 3]];
                    
                        local_authority_impact:         115;
                        removal_cost_multiplier:        145;

                        building_class:                 3;
                    }

                    graphics {
                        default:                        sw_MID_FLOOR_BUILDING_1970_A;
                    }
                }

// Buildings_1980
    // LOW_FLOOR_BUILDINGS
        // LOW_FLOOR_BUILDING_1980_A
            // construction_1
                spritelayout layout_LOW_FLOOR_BUILDING_1980_A_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_1980_A_const_1;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_1980_A_const_1, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_1980.png") {
                    tmpl_mid_building(0, 0)
                }

            // construction_2
                spritelayout layout_LOW_FLOOR_BUILDING_1980_A_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_1980_A_const_2;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_1980_A_const_2, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_1980.png") {
                    tmpl_mid_building(80, 0)
                }

            // construction_3
                spritelayout layout_LOW_FLOOR_BUILDING_1980_A_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_1980_A_const_3;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_1980_A_const_3, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_1980.png") {
                    tmpl_mid_building(160, 0)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_LOW_FLOOR_BUILDING_1980_A_const, construction_state) {
                    0: layout_LOW_FLOOR_BUILDING_1980_A_const_1;
                    1: layout_LOW_FLOOR_BUILDING_1980_A_const_2;
                    2: layout_LOW_FLOOR_BUILDING_1980_A_const_3;
                }

            // LOW_FLOOR_BUILDING_1980_A
                spritelayout layout_LOW_FLOOR_BUILDING_1980_A {
                    ground {
                        sprite:          set_LOW_FLOOR_BUILDING_1980_A_GROUND;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_1980_A;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_LOW_FLOOR_BUILDING_1980_A, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_1980.png") {
                    tmpl_mid_building(240, 0)
                }

            // Ground
                spriteset (set_LOW_FLOOR_BUILDING_1980_A_GROUND, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_1980.png") {
                    tmpl_mid_building(320, 0)
                } 

            // Switch
                switch(FEAT_HOUSES, SELF, sw_LOW_FLOOR_BUILDING_1980_A, construction_state ) {
                    0..2: layout_LOW_FLOOR_BUILDING_1980_A_const;
                    layout_LOW_FLOOR_BUILDING_1980_A;
                }

            // Item Definition
                item(FEAT_HOUSES, kt_LOW_FLOOR_BUILDING_1980_A, 170, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_MID_FLOOR_BUILDING_NAME);
                        availability_mask:              [ALL_TOWNZONES & ~bitmask(TOWNZONE_EDGE, TOWNZONE_OUTSKIRT), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        random_colours:                 [COLOUR_DARK_GREEN, COLOUR_PINK, COLOUR_YELLOW, COLOUR_GREEN];
                        probability:                    1;
                        years_available:                [1980, 65535];
                        minimum_lifetime:               2*(para_lifetime);

                        population:                     75;
                        mail_multiplier:                35;
                        accepted_cargos:                [[PASS, 6], [MAIL, 3], [GOOD, 4]];
                    
                        local_authority_impact:         105;
                        removal_cost_multiplier:        130;

                        building_class:                 2;
                    }

                    graphics {
                        default:                        sw_LOW_FLOOR_BUILDING_1980_A;
                    }
                }

// Buildings_1990
    // SINGLE_HOUSES
        // SINGLE_HOUSE_1990_A
            // construction_1
                spritelayout layout_const_SINGLE_HOUSE_1990_A_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_ground_SINGLE_HOUSE_1990_A;
                    }

                    building {
                        sprite:          set_const_1_SINGLE_HOUSE_1990_A;
                    }                    
                }

                spriteset(set_const_1_SINGLE_HOUSE_1990_A, "./Korean_Town_Set/gfx/SINGLE_HOUSE_1990.png") {
                    tmpl_low_building(0, 0)
                }

            // construction_2
                spritelayout layout_const_SINGLE_HOUSE_1990_A_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_ground_SINGLE_HOUSE_1990_A;
                    }

                    building {
                        sprite:          set_const_2_SINGLE_HOUSE_1990_A;
                    }                    
                }

                spriteset(set_const_2_SINGLE_HOUSE_1990_A, "./Korean_Town_Set/gfx/SINGLE_HOUSE_1990.png") {
                    tmpl_low_building(80, 0)
                }

            // construction_3
                spritelayout layout_const_SINGLE_HOUSE_1990_A_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_ground_SINGLE_HOUSE_1990_A;
                    }

                    building {
                        sprite:          set_const_3_SINGLE_HOUSE_1990_A;
                    }                    
                }

                spriteset(set_const_3_SINGLE_HOUSE_1990_A, "./Korean_Town_Set/gfx/SINGLE_HOUSE_1990.png") {
                    tmpl_low_building(160, 0)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_const_SINGLE_HOUSE_1990_A, construction_state) {
                    0: layout_const_SINGLE_HOUSE_1990_A_1;
                    1: layout_const_SINGLE_HOUSE_1990_A_2;
                    2: layout_const_SINGLE_HOUSE_1990_A_3;
                }

            // SINGLE_HOUSE_1990_A
                spritelayout layout_building_SINGLE_HOUSE_1990_A {
                    ground {
                        sprite:          set_ground_SINGLE_HOUSE_1990_A;
                    }

                    building {
                        sprite:          set_building_SINGLE_HOUSE_1990_A;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_building_SINGLE_HOUSE_1990_A, "./Korean_Town_Set/gfx/SINGLE_HOUSE_1990.png") {
                    tmpl_low_building(240, 0)
                }

            // Ground
                spriteset (set_ground_SINGLE_HOUSE_1990_A, "./Korean_Town_Set/gfx/SINGLE_HOUSE_1990.png") {
                    tmpl_low_building(400, 0)
                }

            // Switch
                switch(FEAT_HOUSES, SELF, sw_graphics_SINGLE_HOUSE_1990_A, construction_state ) {
                    0..2: layout_const_SINGLE_HOUSE_1990_A;
                    layout_building_SINGLE_HOUSE_1990_A;
                }

                switch(FEAT_HOUSES, SELF, sw_check_avoid_SINGLE_HOUSE_1990_A, nearest_house_matching_criterion(2, SEARCH_HOUSE_BY_CLASS)) {
                    0:return 1;
                    return 0;
                }

            // Item definition
                item(FEAT_HOUSES, kt_SINGLE_HOUSE_1990_A, 115, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_SINGLE_HOUSE_NAME);
                        availability_mask:              [bitmask(TOWNZONE_EDGE), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    1;
                        years_available:                [1990, 65535];
                        minimum_lifetime:               1*(para_lifetime);

                        population:                     15;
                        mail_multiplier:                6;
                        accepted_cargos:                [[PASS, 3], [MAIL, 1], [GOOD, 1]];
                    
                        local_authority_impact:         75;
                        removal_cost_multiplier:        70;

                        building_class:                 7;
                    }

                    graphics {
                        default:                        sw_graphics_SINGLE_HOUSE_1990_A;
                        colour:                         random_bits%15+775;
                        construction_check:             sw_check_avoid_SINGLE_HOUSE_1990_A;
                    }
                }

// Buildings_2000
    // VILLAE
        // VILLA_2000_A
            // construction_1
                spritelayout layout_VILLA_2000_A_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_VILLA_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_VILLA_2000_A_const_1;
                    }                    
                }

                spriteset(set_VILLA_2000_A_const_1, "./Korean_Town_Set/gfx/VILLA_2000.png") {
                    tmpl_low_building(0, 0)
                }

            // construction_2
                spritelayout layout_VILLA_2000_A_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_VILLA_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_VILLA_2000_A_const_2;
                    }                    
                }

                spriteset(set_VILLA_2000_A_const_2, "./Korean_Town_Set/gfx/VILLA_2000.png") {
                    tmpl_low_building(80, 0)
                }

            // construction_3
                spritelayout layout_VILLA_2000_A_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_VILLA_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_VILLA_2000_A_const_3;
                    }                    
                }

                spriteset(set_VILLA_2000_A_const_3, "./Korean_Town_Set/gfx/VILLA_2000.png") {
                    tmpl_low_building(160, 0)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_VILLA_2000_A_const, construction_state) {
                    0: layout_VILLA_2000_A_const_1;
                    1: layout_VILLA_2000_A_const_2;
                    2: layout_VILLA_2000_A_const_3;
                }

            // VILLA_2000_A_1 // with_tree
                spritelayout layout_var_VILLA_2000_A_1 {
                    ground {
                        sprite:          set_VILLA_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_var_VILLA_2000_A_1;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }

                    building {           
                        sprite:          set_VILLA_2000_A_TREE_1;          
                    }
                }

                spritelayout layout_var_VILLA_2000_A_2 {
                    ground {
                        sprite:          set_VILLA_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_var_VILLA_2000_A_1;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }

                    building {           
                        sprite:          set_VILLA_2000_A_TREE_2;          
                    }
                }

                spriteset (set_var_VILLA_2000_A_1, "./Korean_Town_Set/gfx/VILLA_2000.png") {
                    tmpl_low_building(240, 0)
                }

            // VILLA_2000_A_2 // without_tree
                spritelayout layout_var_VILLA_2000_A_3 {
                    ground {
                        sprite:          set_VILLA_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_var_VILLA_2000_A_2;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }

                    building {           
                        sprite:          set_VILLA_2000_A_TREE_1;          
                    }
                }

                spritelayout layout_var_VILLA_2000_A_4 {
                    ground {
                        sprite:          set_VILLA_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_var_VILLA_2000_A_2;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }

                    building {           
                        sprite:          set_VILLA_2000_A_TREE_2;          
                    }
                }

                spriteset (set_var_VILLA_2000_A_2, "./Korean_Town_Set/gfx/VILLA_2000.png") {
                    tmpl_low_building(320, 0)
                }

            // etc.
                spriteset (set_VILLA_2000_A_GROUND, "./Korean_Town_Set/gfx/VILLA_2000.png") {
                    tmpl_low_building(400, 0)
                }

                spriteset (set_VILLA_2000_A_TREE_1, "./Korean_Town_Set/gfx/TREE.png") {
                    [0, 0, 38, 56, -18, -28]
                }

                spriteset (set_VILLA_2000_A_TREE_2, "./Korean_Town_Set/gfx/TREE.png") {
                    tmpl_empty(0, 0)
                }                                

            // Switch
                switch(FEAT_HOUSES, SELF, sw_random_VILLA_2000_A, random_bits % 8) {
                    1..3: layout_var_VILLA_2000_A_4; 
                    4: layout_var_VILLA_2000_A_3; // with_tree
                    5..7: layout_var_VILLA_2000_A_2; 
                    layout_var_VILLA_2000_A_1;  // with_tree
                }

                switch(FEAT_HOUSES, SELF, sw_VILLA_2000_A, construction_state ) {
                    0..2: layout_VILLA_2000_A_const;
                    sw_random_VILLA_2000_A;
                }                

            // Item Definition
                item(FEAT_HOUSES, kt_VILLA_2000_A, 130, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_VILLA_NAME);
                        availability_mask:              [ALL_TOWNZONES & ~bitmask(TOWNZONE_CENTRE, TOWNZONE_INNER_SUBURB), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    1;
                        years_available:                [2000, 65535];
                        minimum_lifetime:               1*(para_lifetime);

                        population:                     30;
                        mail_multiplier:                12;
                        accepted_cargos:                [[PASS, 4], [MAIL, 1], [GOOD, 2]];
                    
                        local_authority_impact:         80;
                        removal_cost_multiplier:        80;

                        building_class:                 1;
                    }

                    graphics {
                        default:                        sw_VILLA_2000_A;
                        colour:                         random_bits%2+788;
                    }
                }    

    // LOW_FLOOR_BUILDINGS
        // LOW_FLOOR_BUILDING_2000_A_blue
            // construction_1
                spritelayout layout_LOW_FLOOR_BUILDING_2000_A_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_A_const_1;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_A_const_1, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(0, 400)
                }

            // construction_2
                spritelayout layout_LOW_FLOOR_BUILDING_2000_A_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_A_const_2;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_A_const_2, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(80, 400)
                }

            // construction_3                
                spritelayout layout_LOW_FLOOR_BUILDING_2000_A_blue_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_A_blue_const_3;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_A_blue_const_3, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(160, 400)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_LOW_FLOOR_BUILDING_2000_A_blue_const, construction_state) {
                    0: layout_LOW_FLOOR_BUILDING_2000_A_const_1;
                    1: layout_LOW_FLOOR_BUILDING_2000_A_const_2;
                    2: layout_LOW_FLOOR_BUILDING_2000_A_blue_const_3;
                }

            // LOW_FLOOR_BUILDING_2000_A_blue
                spritelayout layout_LOW_FLOOR_BUILDING_2000_A_blue {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_A_blue;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_LOW_FLOOR_BUILDING_2000_A_blue, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(240, 400)
                }

        // LOW_FLOOR_BUILDING_2000_A_brown
            // construction_3
                spriteset(set_LOW_FLOOR_BUILDING_2000_A_brown_const_3, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(160, 600)
                }

                spritelayout layout_LOW_FLOOR_BUILDING_2000_A_brown_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_A_brown_const_3;
                    }                    
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_LOW_FLOOR_BUILDING_2000_A_brown_const, construction_state) {
                    0: layout_LOW_FLOOR_BUILDING_2000_A_const_1;
                    1: layout_LOW_FLOOR_BUILDING_2000_A_const_2;
                    2: layout_LOW_FLOOR_BUILDING_2000_A_brown_const_3;
                }

            // LOW_FLOOR_BUILDING_2000_A_brown
                spritelayout layout_LOW_FLOOR_BUILDING_2000_A_brown {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_A_brown;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_LOW_FLOOR_BUILDING_2000_A_brown, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(240, 600)
                }

            // Switch
                switch(FEAT_HOUSES, SELF, sw_LOW_FLOOR_BUILDING_2000_A_blue, construction_state ) {
                    0..2: layout_LOW_FLOOR_BUILDING_2000_A_blue_const;
                    layout_LOW_FLOOR_BUILDING_2000_A_blue;
                }

                switch(FEAT_HOUSES, SELF, sw_LOW_FLOOR_BUILDING_2000_A_brown, construction_state ) {
                    0..2: layout_LOW_FLOOR_BUILDING_2000_A_brown_const;
                    layout_LOW_FLOOR_BUILDING_2000_A_brown;
                }

                switch(FEAT_HOUSES, SELF, sw_LOW_FLOOR_BUILDING_2000_A_random, random_bits % 2 ) {
                    1: sw_LOW_FLOOR_BUILDING_2000_A_brown;
                    sw_LOW_FLOOR_BUILDING_2000_A_blue;
                }

            // Item Definition
                item(FEAT_HOUSES, kt_LOW_FLOOR_BUILDING_2000_A, 175, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_LOW_FLOOR_BUILDING_NAME);
                        availability_mask:              [bitmask(TOWNZONE_CENTRE, TOWNZONE_INNER_SUBURB), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    1;
                        years_available:                [2000, 65535];
                        minimum_lifetime:               2*(para_lifetime);

                        population:                     85;
                        mail_multiplier:                55;
                        accepted_cargos:                [[PASS, 8], [MAIL, 3], [GOOD, 4]];
                    
                        local_authority_impact:         110;
                        removal_cost_multiplier:        140;

                        building_class:                 2;
                    }

                    graphics {
                        default:                        sw_LOW_FLOOR_BUILDING_2000_A_random;
                    }
                }

        // LOW_FLOOR_BUILDING_2000_B
            // construction_1
                spritelayout layout_LOW_FLOOR_BUILDING_2000_B_const_1_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_const_1_north;
                    }                    
                }

                spritelayout layout_LOW_FLOOR_BUILDING_2000_B_const_1_east {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_const_1_east;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_B_const_1_north, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_north(0, 0)
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_B_const_1_east, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_east(120, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_LOW_FLOOR_BUILDING_2000_B_const_1, house_tile) {
                    HOUSE_TILE_NORTH:    layout_LOW_FLOOR_BUILDING_2000_B_const_1_north;
                    HOUSE_TILE_EAST:     layout_LOW_FLOOR_BUILDING_2000_B_const_1_east;
                }

            // construction_2
                spritelayout layout_LOW_FLOOR_BUILDING_2000_B_const_2_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_const_2_north;
                    }                    
                }

                spritelayout layout_LOW_FLOOR_BUILDING_2000_B_const_2_east {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_const_2_east;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_B_const_2_north, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_north(240, 0)
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_B_const_2_east, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_east(360, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_LOW_FLOOR_BUILDING_2000_B_const_2, house_tile) {
                    HOUSE_TILE_NORTH:    layout_LOW_FLOOR_BUILDING_2000_B_const_2_north;
                    HOUSE_TILE_EAST:     layout_LOW_FLOOR_BUILDING_2000_B_const_2_east;
                }

            // construction_3
                spritelayout layout_LOW_FLOOR_BUILDING_2000_B_const_3_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_const_3_north;
                    }                    
                }

                spritelayout layout_LOW_FLOOR_BUILDING_2000_B_const_3_east {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_const_3_east;
                    }                    
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_B_const_3_north, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_north(480, 0)
                }

                spriteset(set_LOW_FLOOR_BUILDING_2000_B_const_3_east, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_east(600, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_LOW_FLOOR_BUILDING_2000_B_const_3, house_tile) {
                    HOUSE_TILE_NORTH:    layout_LOW_FLOOR_BUILDING_2000_B_const_3_north;
                    HOUSE_TILE_EAST:     layout_LOW_FLOOR_BUILDING_2000_B_const_3_east;
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_LOW_FLOOR_BUILDING_2000_B_const, construction_state) {
                    0: sw_LOW_FLOOR_BUILDING_2000_B_const_1;
                    1: sw_LOW_FLOOR_BUILDING_2000_B_const_2;
                    2: sw_LOW_FLOOR_BUILDING_2000_B_const_3;
                }

            // LOW_FLOOR_BUILDING_2000_B_north
                spritelayout layout_LOW_FLOOR_BUILDING_2000_B_north {
                    ground {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_GROUND_north;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_north;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_LOW_FLOOR_BUILDING_2000_B_north, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_north(720, 0)
                }

            // LOW_FLOOR_BUILDING_2000_B_east
                spritelayout layout_LOW_FLOOR_BUILDING_2000_B_east {
                    ground {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_GROUND_east;
                    }

                    building {
                        sprite:          set_LOW_FLOOR_BUILDING_2000_B_east;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_LOW_FLOOR_BUILDING_2000_B_east, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_east(840, 0)
                }

            // Ground
                spriteset (set_LOW_FLOOR_BUILDING_2000_B_GROUND_north, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_north(960, 0)
                }

                spriteset (set_LOW_FLOOR_BUILDING_2000_B_GROUND_east, "./Korean_Town_Set/gfx/LOW_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building_1x2_east(1080, 0)
                }                                

            // Switch
                switch(FEAT_HOUSES, SELF, layout_LOW_FLOOR_BUILDING_2000_B, house_tile) {
                    HOUSE_TILE_NORTH:        layout_LOW_FLOOR_BUILDING_2000_B_north;
                    HOUSE_TILE_EAST:         layout_LOW_FLOOR_BUILDING_2000_B_east;
                }

                switch(FEAT_HOUSES, SELF, sw_LOW_FLOOR_BUILDING_2000_B, construction_state ) {
                    0..2: layout_LOW_FLOOR_BUILDING_2000_B_const;
                    layout_LOW_FLOOR_BUILDING_2000_B;
                }

            // Item definition             
                item(FEAT_HOUSES, kt_LOW_FLOOR_BUILDING_2000_B, 176, HOUSE_SIZE_1X2) {
                    property {
                        substitute:                     68; // 1X2
                        name:                           string(STR_LOW_FLOOR_BUILDING_NAME);
                        availability_mask:              [bitmask(TOWNZONE_INNER_SUBURB, TOWNZONE_OUTER_SUBURB), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    15;
                        years_available:                [2000, 65535];
                        minimum_lifetime:               4*(para_lifetime);

                        population:                     75;
                        mail_multiplier:                45;
                        accepted_cargos:                [[PASS, 8], [MAIL, 3], [GOOD, 4]];
                    
                        local_authority_impact:         100;
                        removal_cost_multiplier:        125;

                        building_class:                 2;
                    }

                    graphics {
                        default:                        sw_LOW_FLOOR_BUILDING_2000_B;
                    }
                }
    
    // MID_FLOOR_BUILDINGS
        // MID_FLOOR_BUILDING_2000_A_blue
            // construction_1 
                spritelayout layout_MID_FLOOR_BUILDING_2000_A_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_const_1;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_2000_A_const_1, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(0, 0)
                }

            // construction_2
                spritelayout layout_MID_FLOOR_BUILDING_2000_A_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_const_2;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_2000_A_const_2, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(80, 0)
                }

            // construction_3
                spritelayout layout_MID_FLOOR_BUILDING_2000_A_blue_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_blue_const_3;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_2000_A_blue_const_3, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(160, 0)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_MID_FLOOR_BUILDING_2000_A_blue_const, construction_state) {
                    0: layout_MID_FLOOR_BUILDING_2000_A_const_1;
                    1: layout_MID_FLOOR_BUILDING_2000_A_const_2;
                    2: layout_MID_FLOOR_BUILDING_2000_A_blue_const_3;
                }

            // MID_FLOOR_BUILDING_2000_A_blue_anime1
                spritelayout layout_MID_FLOOR_BUILDING_2000_A_blue_anime1 {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_blue_anime1;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_MID_FLOOR_BUILDING_2000_A_blue_anime1, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(240, 0)
                }

            // MID_FLOOR_BUILDING_2000_A_blue_anime2
                spritelayout layout_MID_FLOOR_BUILDING_2000_A_blue_anime2 {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_blue_anime2;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_MID_FLOOR_BUILDING_2000_A_blue_anime2, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(320, 0)
                }

            // MID_FLOOR_BUILDING_2000_A_GROUND
                spriteset (set_MID_FLOOR_BUILDING_2000_A_GROUND, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(400, 0)
                }

        // MID_FLOOR_BUILDING_2000_A_brown
            // construction_3
                spritelayout layout_MID_FLOOR_BUILDING_2000_A_brown_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_brown_const_3;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_2000_A_brown_const_3, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(160, 200)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_MID_FLOOR_BUILDING_2000_A_brown_const, construction_state) {
                    0: layout_MID_FLOOR_BUILDING_2000_A_const_1;
                    1: layout_MID_FLOOR_BUILDING_2000_A_const_2;
                    2: layout_MID_FLOOR_BUILDING_2000_A_brown_const_3;
                }

            // MID_FLOOR_BUILDING_2000_A_brown_anime1
                spritelayout layout_MID_FLOOR_BUILDING_2000_A_brown_anime1 {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_brown_anime1;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_MID_FLOOR_BUILDING_2000_A_brown_anime1, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(240, 200)
                }

            // MID_FLOOR_BUILDING_2000_A_brown_anime2
                spritelayout layout_MID_FLOOR_BUILDING_2000_A_brown_anime2 {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_GROUND;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_A_brown_anime2;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_MID_FLOOR_BUILDING_2000_A_brown_anime2, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(320, 200)
                }

            // Switch
                switch(FEAT_HOUSES, SELF, layout_MID_FLOOR_BUILDING_2000_A_blue, animation_frame % 2 ) {
                    1: layout_MID_FLOOR_BUILDING_2000_A_blue_anime1;
                    layout_MID_FLOOR_BUILDING_2000_A_blue_anime2;
                }

                switch(FEAT_HOUSES, SELF, layout_MID_FLOOR_BUILDING_2000_A_brown, animation_frame % 2 ) {
                    1: layout_MID_FLOOR_BUILDING_2000_A_brown_anime1;
                    layout_MID_FLOOR_BUILDING_2000_A_brown_anime2;
                }

                switch(FEAT_HOUSES, SELF, sw_MID_FLOOR_BUILDING_2000_A_blue, construction_state ) {
                    0..2: layout_MID_FLOOR_BUILDING_2000_A_blue_const;
                    layout_MID_FLOOR_BUILDING_2000_A_blue;
                }

                switch(FEAT_HOUSES, SELF, sw_MID_FLOOR_BUILDING_2000_A_brown, construction_state ) {
                    0..2: layout_MID_FLOOR_BUILDING_2000_A_brown_const;
                    layout_MID_FLOOR_BUILDING_2000_A_brown;
                }

                switch(FEAT_HOUSES, SELF, sw_MID_FLOOR_BUILDING_2000_A_random, random_bits % 2 ) {
                    1: sw_MID_FLOOR_BUILDING_2000_A_brown;
                    sw_MID_FLOOR_BUILDING_2000_A_blue;
                }

            // Item Definition
                item(FEAT_HOUSES, kt_MID_FLOOR_BUILDING_2000_A, 200, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_MID_FLOOR_BUILDING_NAME);
                        availability_mask:              [bitmask(TOWNZONE_CENTRE, TOWNZONE_INNER_SUBURB), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    1;
                        years_available:                [2000, 65535];
                        minimum_lifetime:               2*(para_lifetime);

                        population:                     135;
                        mail_multiplier:                60;
                        accepted_cargos:                [[PASS, 8], [MAIL, 3], [GOOD, 4]];
                    
                        local_authority_impact:         120;
                        removal_cost_multiplier:        150;

                        building_class:                 3;
                        building_flags:                 bitmask(HOUSE_FLAG_ANIMATE);
                        animation_info:                 [ANIMATION_LOOPING, 2];
                        animation_speed:                6;
                    }

                    graphics {
                        default:                        sw_MID_FLOOR_BUILDING_2000_A_random;
                    }
                }

        // MID_FLOOR_BUILDING_2000_B
            // construction_1
                spritelayout layout_MID_FLOOR_BUILDING_2000_B_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_B_const_1;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_2000_B_const_1, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(0, 800)
                }

            // construction_2
                spritelayout layout_MID_FLOOR_BUILDING_2000_B_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_B_const_2;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_2000_B_const_2, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(80, 800)
                }

            // construction_3
                spritelayout layout_MID_FLOOR_BUILDING_2000_B_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_B_const_3;
                    }                    
                }

                spriteset(set_MID_FLOOR_BUILDING_2000_B_const_3, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(160, 800)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_MID_FLOOR_BUILDING_2000_B_const, construction_state) {
                    0: layout_MID_FLOOR_BUILDING_2000_B_const_1;
                    1: layout_MID_FLOOR_BUILDING_2000_B_const_2;
                    2: layout_MID_FLOOR_BUILDING_2000_B_const_3;
                }

            // MID_FLOOR_BUILDING_2000_B_anime1
                spritelayout layout_MID_FLOOR_BUILDING_2000_B_anime1 {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_2000_B_GROUND;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_B_anime1;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_MID_FLOOR_BUILDING_2000_B_anime1, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(240, 800)
                }

            // MID_FLOOR_BUILDING_2000_B_anime2
                spritelayout layout_MID_FLOOR_BUILDING_2000_B_anime2 {
                    ground {
                        sprite:          set_MID_FLOOR_BUILDING_2000_B_GROUND;
                    }

                    building {
                        sprite:          set_MID_FLOOR_BUILDING_2000_B_anime2;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_MID_FLOOR_BUILDING_2000_B_anime2, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(320, 800)
                }

            // Ground
                spriteset (set_MID_FLOOR_BUILDING_2000_B_GROUND, "./Korean_Town_Set/gfx/MID_FLOOR_BUILDING_2000.png") {
                    tmpl_mid_building(400, 800)
                }

            // Switch
                switch(FEAT_HOUSES, SELF, layout_MID_FLOOR_BUILDING_2000_B, animation_frame % 2 ) {
                    1: layout_MID_FLOOR_BUILDING_2000_B_anime1;
                    layout_MID_FLOOR_BUILDING_2000_B_anime2;
                }

                switch(FEAT_HOUSES, SELF, sw_MID_FLOOR_BUILDING_2000_B, construction_state ) {
                    0..2: layout_MID_FLOOR_BUILDING_2000_B_const;
                    layout_MID_FLOOR_BUILDING_2000_B;
                }

            // Item definition
                item(FEAT_HOUSES, kt_MID_FLOOR_BUILDING_2000_B, 201, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_MID_FLOOR_BUILDING_NAME);
                        availability_mask:              [bitmask(TOWNZONE_CENTRE, TOWNZONE_INNER_SUBURB), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    1;
                        years_available:                [2000, 65535];
                        minimum_lifetime:               2*(para_lifetime);

                        population:                     125;
                        mail_multiplier:                55;
                        accepted_cargos:                [[PASS, 8], [MAIL, 3], [GOOD, 4]];
                    
                        local_authority_impact:         120;
                        removal_cost_multiplier:        150;

                        building_class:                 3;
                        building_flags:                 bitmask(HOUSE_FLAG_ANIMATE);
                        animation_info:                 [ANIMATION_LOOPING, 2];
                        animation_speed:                6;
                    }

                    graphics {
                        default:                        sw_MID_FLOOR_BUILDING_2000_B;
                    }
                }

// Buildings_2010
    // SHOPPING_DIST
        // SHOPPING_DIST_2010_C
            // construction_1
                spritelayout layout_SHOPPING_DIST_2010_C_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_C_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_C_const_1;
                    }                    
                }

                spriteset(set_SHOPPING_DIST_2010_C_const_1, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(0, 200)
                }

            // construction_2
                spritelayout layout_SHOPPING_DIST_2010_C_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_C_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_C_const_2;
                    }                    
                }

                spriteset(set_SHOPPING_DIST_2010_C_const_2, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(80, 200)
                }

            // construction_3
                spritelayout layout_SHOPPING_DIST_2010_C_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_C_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_C_const_3;
                    }                    
                }

                spriteset(set_SHOPPING_DIST_2010_C_const_3, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(160, 200)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_SHOPPING_DIST_2010_C_const, construction_state) {
                    0: layout_SHOPPING_DIST_2010_C_const_1;
                    1: layout_SHOPPING_DIST_2010_C_const_2;
                    2: layout_SHOPPING_DIST_2010_C_const_3;
                }

            // SHOPPING_DIST_2010_C
                spritelayout layout_SHOPPING_DIST_2010_C {
                    ground {
                        sprite:          set_SHOPPING_DIST_2010_C_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_C;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_SHOPPING_DIST_2010_C, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(240, 200)
                }

            // Ground
                spriteset (set_SHOPPING_DIST_2010_C_GROUND, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(320, 200)
                }

            // Switch
                switch(FEAT_HOUSES, SELF, sw_SHOPPING_DIST_2010_C, construction_state ) {
                    0..2: layout_SHOPPING_DIST_2010_C_const;
                    layout_SHOPPING_DIST_2010_C;
                }

            // Item definition
                item(FEAT_HOUSES, kt_SHOPPING_DIST_2010_C, 152, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_SHOPPING_DIST_NAME);
                        availability_mask:              [ALL_TOWNZONES & ~bitmask(TOWNZONE_EDGE), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    1;
                        years_available:                [2010, 65535];
                        minimum_lifetime:               1*(para_lifetime);

                        population:                     55;
                        mail_multiplier:                20;
                        accepted_cargos:                [[PASS, 6], [MAIL, 3], [GOOD, 2]];
                    
                        local_authority_impact:         95;
                        removal_cost_multiplier:        130;

                        building_class:                 1;
                    }

                    graphics {
                        default:                        sw_SHOPPING_DIST_2010_C;
                        colour:                         random_bits%15+775;
                    }
                }

        // SHOPPING_DIST_2010_D
            // construction_1
                spritelayout layout_SHOPPING_DIST_2010_D_const_1 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_D_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_D_const_1;
                    }                    
                }

                spriteset(set_SHOPPING_DIST_2010_D_const_1, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(0, 300)
                }

            // construction_2
                spritelayout layout_SHOPPING_DIST_2010_D_const_2 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_D_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_D_const_2;
                    }                    
                }

                spriteset(set_SHOPPING_DIST_2010_D_const_2, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(80, 300)
                }

            // construction_3
                spritelayout layout_SHOPPING_DIST_2010_D_const_3 {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_D_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_D_const_3;
                    }                    
                }

                spriteset(set_SHOPPING_DIST_2010_D_const_3, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(160, 300)
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_SHOPPING_DIST_2010_D_const, construction_state) {
                    0: layout_SHOPPING_DIST_2010_D_const_1;
                    1: layout_SHOPPING_DIST_2010_D_const_2;
                    2: layout_SHOPPING_DIST_2010_D_const_3;
                }

            // SHOPPING_DIST_2010_D
                spritelayout layout_SHOPPING_DIST_2010_D {
                    ground {
                        sprite:          set_SHOPPING_DIST_2010_D_GROUND;
                    }

                    building {
                        sprite:          set_SHOPPING_DIST_2010_D;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_SHOPPING_DIST_2010_D, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(240, 300)
                }

            // Ground
                spriteset (set_SHOPPING_DIST_2010_D_GROUND, "./Korean_Town_Set/gfx/SHOPPING_DIST_2010.png") {
                    tmpl_low_building(320, 300)
                } 

            // Switch
                switch(FEAT_HOUSES, SELF, sw_SHOPPING_DIST_2010_D, construction_state ) {
                    0..2: layout_SHOPPING_DIST_2010_D_const;
                    layout_SHOPPING_DIST_2010_D;
                }

            // Item Definition
                item(FEAT_HOUSES, kt_SHOPPING_DIST_2010_D, 153, HOUSE_SIZE_1X1) {
                    property {
                        substitute:                     0; // 1x1
                        name:                           string(STR_SHOPPING_DIST_NAME);
                        availability_mask:              [ALL_TOWNZONES & ~bitmask(TOWNZONE_EDGE), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    1;
                        years_available:                [2010, 65535];
                        minimum_lifetime:               1*(para_lifetime);

                        population:                     55;
                        mail_multiplier:                20;
                        accepted_cargos:                [[PASS, 6], [MAIL, 3], [GOOD, 2]];
                    
                        local_authority_impact:         95;
                        removal_cost_multiplier:        130;

                        building_class:                 1;
                    }

                    graphics {
                        default:                        sw_SHOPPING_DIST_2010_D;
                        colour:                         random_bits%15+775;
                    }
                }

    // HIGH_FLOOR_BUILDINGS
        // HIGH_FLOOR_BUILDING_2010_A
            // construction_1
                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_const_1_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_const_1_north;
                    }                    
                }

                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_const_1_west {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_const_1_west;
                    }                    
                }

                spriteset(set_HIGH_FLOOR_BUILDING_2010_A_const_1_north, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_north(0, 0)
                }

                spriteset(set_HIGH_FLOOR_BUILDING_2010_A_const_1_west, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_west(0, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_HIGH_FLOOR_BUILDING_2010_A_const_1, house_tile) {
                    HOUSE_TILE_NORTH:    layout_HIGH_FLOOR_BUILDING_2010_A_const_1_north;
                    HOUSE_TILE_WEST:     layout_HIGH_FLOOR_BUILDING_2010_A_const_1_west;
                }

            // construction_2
                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_const_2_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_const_2_north;
                    }                    
                }

                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_const_2_west {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_const_2_west;
                    }                    
                }

                spriteset(set_HIGH_FLOOR_BUILDING_2010_A_const_2_north, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_north(120, 0)
                }

                spriteset(set_HIGH_FLOOR_BUILDING_2010_A_const_2_west, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_west(120, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_HIGH_FLOOR_BUILDING_2010_A_const_2, house_tile) {
                    HOUSE_TILE_NORTH:    layout_HIGH_FLOOR_BUILDING_2010_A_const_2_north;
                    HOUSE_TILE_WEST:     layout_HIGH_FLOOR_BUILDING_2010_A_const_2_west;
                }

            // construction_3
                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_const_3_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_const_3_north;
                    }                    
                }

                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_const_3_west {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_const_3_west;
                    }                    
                }

                spriteset(set_HIGH_FLOOR_BUILDING_2010_A_const_3_north, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_north(240, 0)
                }

                spriteset(set_HIGH_FLOOR_BUILDING_2010_A_const_3_west, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_west(240, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_HIGH_FLOOR_BUILDING_2010_A_const_3, house_tile) {
                    HOUSE_TILE_NORTH:    layout_HIGH_FLOOR_BUILDING_2010_A_const_3_north;
                    HOUSE_TILE_WEST:     layout_HIGH_FLOOR_BUILDING_2010_A_const_3_west;
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_HIGH_FLOOR_BUILDING_2010_A_const, construction_state) {
                    0: sw_HIGH_FLOOR_BUILDING_2010_A_const_1;
                    1: sw_HIGH_FLOOR_BUILDING_2010_A_const_2;
                    2: sw_HIGH_FLOOR_BUILDING_2010_A_const_3;
                }

            // HIGH_FLOOR_BUILDING_2010_A_north
                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_north {
                    ground {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_GROUND_empty;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_north;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_HIGH_FLOOR_BUILDING_2010_A_north, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_north(360, 0)
                }

            // HIGH_FLOOR_BUILDING_2010_A_west
                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_west_anime1 {
                    ground {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_GROUND;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_west_anime1;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_HIGH_FLOOR_BUILDING_2010_A_west_anime1, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_west(360, 0)
                }

                spritelayout layout_HIGH_FLOOR_BUILDING_2010_A_west_anime2 {
                    ground {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_GROUND;
                    }

                    building {
                        sprite:          set_HIGH_FLOOR_BUILDING_2010_A_west_anime2;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_HIGH_FLOOR_BUILDING_2010_A_west_anime2, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_west(480, 0)
                }

            // Ground
                spriteset (set_HIGH_FLOOR_BUILDING_2010_A_GROUND, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_high_building_2x1_west(600, 0)
                }

                spriteset (set_HIGH_FLOOR_BUILDING_2010_A_GROUND_empty, "./Korean_Town_Set/gfx/HIGH_FLOOR_BUILDING_2010.png") {
                    tmpl_empty(0, 0)
                }

            // Switch
                switch(FEAT_HOUSES, SELF, sw_HIGH_FLOOR_BUILDING_2010_A_west, animation_frame % 2 ) {
                    1: layout_HIGH_FLOOR_BUILDING_2010_A_west_anime1;
                    layout_HIGH_FLOOR_BUILDING_2010_A_west_anime2;
                }

                switch(FEAT_HOUSES, SELF, layout_HIGH_FLOOR_BUILDING_2010_A, house_tile) {
                    HOUSE_TILE_NORTH:        layout_HIGH_FLOOR_BUILDING_2010_A_north;
                    HOUSE_TILE_WEST:         sw_HIGH_FLOOR_BUILDING_2010_A_west;
                }

                switch(FEAT_HOUSES, SELF, sw_HIGH_FLOOR_BUILDING_2010_A, construction_state ) {
                    0..2: layout_HIGH_FLOOR_BUILDING_2010_A_const;
                    layout_HIGH_FLOOR_BUILDING_2010_A;
                }

            // Item definition             
                item(FEAT_HOUSES, kt_HIGH_FLOOR_BUILDING_2010_A, 220, HOUSE_SIZE_2X1) {
                    property {
                        substitute:                     87; // 2x1
                        name:                           string(STR_HIGH_FLOOR_BUILDING_NAME);
                        availability_mask:              [bitmask(TOWNZONE_CENTRE), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        probability:                    15;
                        years_available:                [2010, 65535];
                        minimum_lifetime:               5*(para_lifetime);

                        population:                     250;
                        mail_multiplier:                80;
                        accepted_cargos:                [[PASS, 8], [MAIL, 6], [GOOD, 8]];
                    
                        local_authority_impact:         160;
                        removal_cost_multiplier:        200;

                        building_class:                 5;
                        building_flags:                 bitmask(HOUSE_FLAG_ANIMATE);
                        animation_info:                 [ANIMATION_LOOPING, 2];
                        animation_speed:                7;
                    }

                    graphics {
                        default:                        sw_HIGH_FLOOR_BUILDING_2010_A;
                    }
                }

// Buildings_2020

// APARTMENTS
    // TALL_APARTMENTS
        // TALL_APT_2005_A
            // construction_1
                spritelayout layout_TALL_APT_2005_A_const_1_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_const_1_north;
                    }
                }

                spritelayout layout_TALL_APT_2005_A_const_1_west {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_const_1_west;
                    }                    
                }

                spriteset(set_TALL_APT_2005_A_const_1_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_north(0, 0)
                }

                spriteset(set_TALL_APT_2005_A_const_1_west, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_west(0, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_A_const_1, house_tile) {
                    HOUSE_TILE_NORTH:    layout_TALL_APT_2005_A_const_1_north;
                    HOUSE_TILE_WEST:     layout_TALL_APT_2005_A_const_1_west;
                }

            // construction_2
                spritelayout layout_TALL_APT_2005_A_const_2_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_const_2_north;
                    }                    
                }

                spritelayout layout_TALL_APT_2005_A_const_2_west {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_const_2_west;
                    }                    
                }

                spriteset(set_TALL_APT_2005_A_const_2_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_north(120, 0)
                }

                spriteset(set_TALL_APT_2005_A_const_2_west, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_west(120, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_A_const_2, house_tile) {
                    HOUSE_TILE_NORTH:    layout_TALL_APT_2005_A_const_2_north;
                    HOUSE_TILE_WEST:     layout_TALL_APT_2005_A_const_2_west;
                }

            // construction_3
                spritelayout layout_TALL_APT_2005_A_const_3_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_const_3_north;
                    }                    
                }

                spritelayout layout_TALL_APT_2005_A_const_3_west {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_const_3_west;
                    }                    
                }

                spriteset(set_TALL_APT_2005_A_const_3_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_north(240, 0)
                }

                spriteset(set_TALL_APT_2005_A_const_3_west, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_west(240, 0)
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_A_const_3, house_tile) {
                    HOUSE_TILE_NORTH:    layout_TALL_APT_2005_A_const_3_north;
                    HOUSE_TILE_WEST:     layout_TALL_APT_2005_A_const_3_west;
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_TALL_APT_2005_A_const, construction_state) {
                    0: sw_TALL_APT_2005_A_const_1;
                    1: sw_TALL_APT_2005_A_const_2;
                    2: sw_TALL_APT_2005_A_const_3;
                }

            // TALL_APT_2005_A_north
                spritelayout layout_TALL_APT_2005_A_north {
                    ground {
                        sprite:          set_TALL_APT_2005_A_GROUND_empty;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_north;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_TALL_APT_2005_A_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_north(360, 0)
                }

            // TALL_APT_2005_A_west
                spritelayout layout_TALL_APT_2005_A_flatroof_west {
                    ground {
                        sprite:          set_TALL_APT_2005_A_GROUND;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_flatroof_west;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_TREE_1;
                    }
                }

                spriteset (set_TALL_APT_2005_A_flatroof_west, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_west(360, 0)
                }

                spritelayout layout_TALL_APT_2005_A_roundroof_west {
                    ground {
                        sprite:          set_TALL_APT_2005_A_GROUND;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_roundroof_west;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_A_TREE_1;
                    }
                }

                spriteset (set_TALL_APT_2005_A_roundroof_west, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_west(480, 0)
                }                

            // etc.
                spriteset (set_TALL_APT_2005_A_GROUND, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_2x1_west(600, 0)
                }

                spriteset (set_TALL_APT_2005_A_GROUND_empty, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_empty(0, 0)
                }

                spriteset (set_TALL_APT_2005_A_TREE_1, "./Korean_Town_Set/gfx/TREE.png") {
                    [0, 0, 38, 56, -36, -38]
                }

            // Switch
                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_A_roof_west, random_bits % 2 ) {
                    1: layout_TALL_APT_2005_A_flatroof_west;
                    layout_TALL_APT_2005_A_roundroof_west;
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_A_roof, house_tile) {
                    HOUSE_TILE_NORTH:        layout_TALL_APT_2005_A_north;
                    HOUSE_TILE_WEST:         sw_TALL_APT_2005_A_roof_west;
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_A, construction_state ) {
                    0..2: layout_TALL_APT_2005_A_const;
                    sw_TALL_APT_2005_A_roof;
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_check_near, nearest_house_matching_criterion(1, SEARCH_HOUSE_BY_CLASS) > 0) {
                    0:return 0;
                    return 1;
                }                               

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_check_avoid, nearest_house_matching_criterion(5, SEARCH_HOUSE_BY_CLASS)) {
                    0:return 1;
                    return sw_TALL_APT_2005_check_near;
                }

                switch(FEAT_HOUSES, PARENT, sw_TALL_APT_2005_check_pop, population > 10000) {
                    0:return 0;
                    return sw_TALL_APT_2005_check_avoid;
                }

            // Item definition main         
                item(FEAT_HOUSES, kt_TALL_APT_2005_MAIN, 160, HOUSE_SIZE_2X1) {
                    property {
                        substitute:                     87; // 2x1
                        name:                           string(STR_APT_HIGH_NAME);
                        availability_mask:              [ALL_TOWNZONES, ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        random_colours:                 [COLOUR_DARK_GREEN, COLOUR_BROWN, COLOUR_ORANGE, COLOUR_RED];
                        probability:                    15;
                        years_available:                [205, 65535];
                        minimum_lifetime:               8*(para_lifetime);

                        population:                     200;
                        mail_multiplier:                50;
                        accepted_cargos:                [[PASS, 8], [MAIL, 4], [GOOD, 2]];
                    
                        local_authority_impact:         135;
                        removal_cost_multiplier:        180;

                        building_class:                 6;
                    }

                    graphics {
                        default:                        sw_TALL_APT_2005_A;
                        // colour:                         random_bits%15+775;
                        construction_check:             sw_TALL_APT_2005_check_pop;
                    }
                }
        
        // TALL_APT_2005_B
            // construction_1
                spritelayout layout_TALL_APT_2005_B_const_1_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_const_1_north;
                    }
                }

                spritelayout layout_TALL_APT_2005_B_const_1_east {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_const_1_east;
                    }                    
                }

                spriteset(set_TALL_APT_2005_B_const_1_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_north(0, 200)
                }

                spriteset(set_TALL_APT_2005_B_const_1_east, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_east(0, 400)
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_B_const_1, house_tile) {
                    HOUSE_TILE_NORTH:    layout_TALL_APT_2005_B_const_1_north;
                    HOUSE_TILE_EAST:     layout_TALL_APT_2005_B_const_1_east;
                }

            // construction_2
                spritelayout layout_TALL_APT_2005_B_const_2_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_const_2_north;
                    }                    
                }

                spritelayout layout_TALL_APT_2005_B_const_2_east {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_const_2_east;
                    }                    
                }

                spriteset(set_TALL_APT_2005_B_const_2_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_north(120, 200)
                }

                spriteset(set_TALL_APT_2005_B_const_2_east, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_east(120, 400)
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_B_const_2, house_tile) {
                    HOUSE_TILE_NORTH:    layout_TALL_APT_2005_B_const_2_north;
                    HOUSE_TILE_EAST:     layout_TALL_APT_2005_B_const_2_east;
                }

            // construction_3
                spritelayout layout_TALL_APT_2005_B_const_3_north {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_const_3_north;
                    }                    
                }

                spritelayout layout_TALL_APT_2005_B_const_3_east {
                    ground {
                        sprite:          GROUNDSPRITE_CLEARED;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_const_3_east;
                    }                    
                }

                spriteset(set_TALL_APT_2005_B_const_3_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_north(240, 200)
                }

                spriteset(set_TALL_APT_2005_B_const_3_east, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_east(240, 400)
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_B_const_3, house_tile) {
                    HOUSE_TILE_NORTH:    layout_TALL_APT_2005_B_const_3_north;
                    HOUSE_TILE_EAST:     layout_TALL_APT_2005_B_const_3_east;
                }

            // construction general
                switch(FEAT_HOUSES, SELF, layout_TALL_APT_2005_B_const, construction_state) {
                    0: sw_TALL_APT_2005_B_const_1;
                    1: sw_TALL_APT_2005_B_const_2;
                    2: sw_TALL_APT_2005_B_const_3;
                }

            // TALL_APT_2005_B_north
                spritelayout layout_TALL_APT_2005_B_low_north {
                    ground {
                        sprite:          set_TALL_APT_2005_B_GROUND_north;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_low_north;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_TALL_APT_2005_B_low_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_north(360, 200)
                }

                spritelayout layout_TALL_APT_2005_B_high_north {
                    ground {
                        sprite:          set_TALL_APT_2005_B_GROUND_north;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_high_north;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }


                }

                spriteset (set_TALL_APT_2005_B_high_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_north(480, 200)
                }

            // TALL_APT_2005_B_east
                spritelayout layout_TALL_APT_2005_B_low_east {
                    ground {
                        sprite:          set_TALL_APT_2005_B_GROUND_east;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_low_east;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }
                }

                spriteset (set_TALL_APT_2005_B_low_east, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_east(360, 400)
                }

                spritelayout layout_TALL_APT_2005_B_high_east {
                    ground {
                        sprite:          set_TALL_APT_2005_B_GROUND_east;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_high_east;
                        recolour_mode:   RECOLOUR_REMAP;
                        palette:         PALETTE_USE_DEFAULT;
                    }

                    building {
                        sprite:          set_TALL_APT_2005_B_TREE;
                    }
                }

                spriteset (set_TALL_APT_2005_B_high_east, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_east(480, 400)
                }                

            // etc.
                spriteset (set_TALL_APT_2005_B_GROUND_north, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_north(600, 200)
                }

                spriteset (set_TALL_APT_2005_B_GROUND_east, "./Korean_Town_Set/gfx/APT_2005.png") {
                    tmpl_mid_building_1x2_east(600, 400)
                }

                spriteset (set_TALL_APT_2005_B_TREE, "./Korean_Town_Set/gfx/TREE.png") {
                    [0, 0, 38, 56, -5, -36]
                }

            // Switch
                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_low_B_const, house_tile) {
                    HOUSE_TILE_NORTH:        layout_TALL_APT_2005_B_low_north;
                    HOUSE_TILE_EAST:         layout_TALL_APT_2005_B_low_east;
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_high_B_const, house_tile) {
                    HOUSE_TILE_NORTH:        layout_TALL_APT_2005_B_high_north;
                    HOUSE_TILE_EAST:         layout_TALL_APT_2005_B_high_east;
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_low_B, construction_state ) {
                    0..2: layout_TALL_APT_2005_B_const;
                    sw_TALL_APT_2005_low_B_const;
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_high_B, construction_state ) {
                    0..2: layout_TALL_APT_2005_B_const;
                    sw_TALL_APT_2005_high_B_const;
                }

                switch(FEAT_HOUSES, SELF, sw_TALL_APT_2005_B_random, random_bits % 2 ) {
                    1: sw_TALL_APT_2005_low_B;
                    sw_TALL_APT_2005_high_B;
                }

            // Item definition main         
                item(FEAT_HOUSES, kt_TALL_APT_2005_B, 162, HOUSE_SIZE_1X2) {
                    property {
                        substitute:                     68; // 1x2
                        name:                           string(STR_APT_HIGH_NAME);
                        availability_mask:              [ALL_TOWNZONES, ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)];
                        random_colours:                 [COLOUR_DARK_GREEN, COLOUR_BROWN, COLOUR_ORANGE, COLOUR_RED];
                        probability:                    15;
                        years_available:                [205, 65535];
                        minimum_lifetime:               8*(para_lifetime);

                        population:                     200;
                        mail_multiplier:                50;
                        accepted_cargos:                [[PASS, 8], [MAIL, 4], [GOOD, 2]];
                    
                        local_authority_impact:         135;
                        removal_cost_multiplier:        180;

                        building_class:                 6;
                    }

                    graphics {
                        default:                        sw_TALL_APT_2005_B_random;
                        // colour:                         random_bits%15+775;
                        construction_check:             sw_TALL_APT_2005_check_pop;
                    }
                }
